{"version":3,"sources":["../node_modules/@portis/web3-provider-engine/util/stoplight.js","../node_modules/@portis/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/@portis/web3-provider-engine/util/random-id.js","../node_modules/@portis/web3-provider-engine/util/create-payload.js","../node_modules/@portis/web3-provider-engine/index.js","../node_modules/@portis/web3-provider-engine/subproviders/subprovider.js","../node_modules/@portis/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/@portis/eth-json-rpc-middleware/cache-utils.js","../node_modules/@portis/eth-json-rpc-middleware/block-cache.js","../node_modules/@portis/web3-provider-engine/subproviders/cache.js","../node_modules/@portis/web3-provider-engine/subproviders/fixture.js","../node_modules/@portis/web3-provider-engine/subproviders/filters.js","../node_modules/@portis/web3-provider-engine/util/estimate-gas.js","../node_modules/@portis/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/@portis/web3-provider-engine/subproviders/nonce-tracker.js","../node_modules/@portis/web3-provider-engine/subproviders/subscriptions.js","../node_modules/penpal/lib/index.js","../node_modules/@portis/web3/es/networks.js","../node_modules/@portis/web3/es/utils/getTxGas.js","../node_modules/@portis/web3/es/utils/query.js","../node_modules/@portis/web3/es/utils/onWindowLoad.js","../node_modules/pocket-js-core/src/models/blockchain.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/node_modules/is-buffer/index.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/index.js","../node_modules/pocket-js-core/src/utils/constants.js","../node_modules/pocket-js-core/src/models/node.js","../node_modules/pocket-js-core/src/models/dispatch.js","../node_modules/pocket-js-core/src/models/relay.js","../node_modules/pocket-js-core/src/models/report.js","../node_modules/pocket-js-core/src/models/wallet.js","../node_modules/pocket-js-core/src/models/index.js","../node_modules/pocket-js-core/src/pocket.js","../node_modules/pocket-js-core/src/index.js","../node_modules/@portis/web3/es/index.js","../node_modules/@portis/web3/es/utils/secureOrigin.js","../node_modules/@portis/web3/es/styles.js"],"names":["EventEmitter","require$$0","inherits","require$$1","Stoplight","call","this","isLocked","prototype","go","emit","stop","await","fn","self","once","setTimeout","payload","index","blockTagParamIndex","params","length","method","datePart","Date","getTime","Math","pow","extraPart","floor","random","data","extend","id","getRandomId","jsonrpc","noop","Web3ProviderEngine","opts","setMaxListeners","directProvider","sendAsync","_handleAsync","bind","blockTrackerProvider","_blockTracker","blockTracker","EthBlockTracker","provider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","Object","defineProperty","value","start","cb","on","blockNumber","_getBlockByNumber","err","block","bufferBlock","jsonBlock","number","ethUtil","toBuffer","hash","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","size","extraData","gasLimit","gasUsed","timestamp","transactions","_setCurrentBlock","_running","removeAllListeners","isRunning","addProvider","source","splice","push","setEngine","removeProvider","indexOf","Error","send","Array","isArray","map","req","createPayload","skipCache","res","result","finished","currentProvider","error","stack","end","_error","_result","eachSeries","callback","resultObj","message","code","next","after","unshift","handleRequest","e","SubProvider","engine","emitPayload","Subprovider","[object Object]","constructorFn","super","_constructorFn","middleware","provEngNext","provEngEnd","handler","cacheIdentifierForPayload","skipBlockRef","simpleParams","paramsWithoutBlockTag","canCache","stringify","blockTagForPayload","cacheTypeForPayload","slice","emptyValues","undefined","blockCache","BlockCacheStrategy","strategies","perma","fork","createAsyncMiddleware","async","type","cacheUtils","strategy","canCacheRequest","requestedBlockNumber","blockTag","latestBlockNumber","getLatestBlock","clearBefore","cacheResult","get","set","cache","blockNumberHex","Number","parseInt","newCache","getBlockCacheForPayload","canCacheResult","includes","blockHash","oldBlockHex","oldBlockNumber","keys","filter","num","forEach","ProviderSubprovider","createBlockCacheMiddleware","assign","FixtureProvider","staticResponses","staticResponse","createFilterMiddleware","txParams","hexRegex","HookedWalletSubprovider","nonceLock","Semaphore","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","processTypedMessageV3","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveTypedMessage","approveTypedMessageV3","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","signTypedMessage","signTypedMessageV3","recoverPersonalSignature","publishTransaction","estimateGas","getGasPrice","toLowerCase","string","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","match","methodName","msgParams","extraParams","address","_parityRequests","_parityRequestCount","accounts","waterfall","validateTransaction","processSignTransaction","from","validateMessage","first","warning","console","warn","validatePersonalMessage","signature","sig","validateTypedMessage","validateTypedMessageV3","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","reqId","toString","txHash","senderHex","sigUtil","validateSender","senderIsValid","senderAddress","take","fillInTxExtras","leave","signedTx","raw","tx","rawTx","tasks","gasPrice","gas","to","cloneTxParams","parallel","taskResults","NonceTrackerSubprovider","nonceCache","cachedResult","stripHexPrefix","Buffer","Transaction","getSenderAddress","bufferToInt","hexNonce","events","createSubscriptionManager","exports","MESSAGE","DEFAULT_PORTS","http:","https:","URL_REGEX","Penpal","ERR_CONNECTION_DESTROYED","ERR_CONNECTION_TIMEOUT","ERR_NOT_IN_IFRAME","Promise","window","debug","generateId","log","_console","_len","arguments","args","_key","apply","concat","DestructionPromise","executor","handlers","then","serializeError","_ref","name","deserializeError","obj","deserializedError","key","connectCallSender","callSender","info","methodNames","destructionPromise","localName","local","remote","remoteOrigin","destroyed","reduce","api","_len2","_key2","resolve","reject","addEventListener","handleMessageEvent","event","origin","penpal","removeEventListener","returnValue","returnValueIsError","resolution","postMessage","createMethodProxy","connectCallReceiver","methods","_event$data","createPromiseHandler","connectToChild","_ref2","destroy","url","appendTo","_ref2$methods","timeout","connectionDestructionPromise","resolveConnectionDestructionPromise","parent","iframe","document","createElement","body","appendChild","parentNode","removeChild","child","contentWindow","contentDocument","parentWindow","childOrigin","protocol","hostname","port","location","regexResult","exec","portSuffix","getOriginFromUrl","promise","resolveConnectionPromise","connectionTimeoutId","receiverMethodNames","destroyCallReceiver","handleMessage","callReceiverDestructionPromise","resolveCallReceiverDestructionPromise","receiverMethodName","clearTimeout","src","connectToParent","_ref3","_ref3$parentOrigin","parentOrigin","_ref3$methods","top","_default","networkAdapter","network","gasRelay","networkObj","networks","nodeUrl","gasRelayHubAddress","mainnet","chainId","ropsten","rinkeby","goerli","ubiq","thundercoreTestnet","orchid","orchidTestnet","kovan","classic","sokol","core","xdai","thundercore","fuse","lightstreams","maticAlpha","maticTestnet","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","pop","_a","require","BN","getTxGas","query","safeGas","simpleSend","gasLimitSpecified","_b","getBlockByNumber","safeTxGas","estimateTxGas","blockGasLimitHex","recipient","blockGasLimitBN","Boolean","getCode","hexToBn","targetBN","denominator","numBN","denomBN","bnToHex","mul","div","addGasBuffer","initialGasLimitHex","initialGasLimitBn","upperGasLimitBn","muln","bufferedGasLimitBn","gt","lt","inputHex","inputBn","Query","fullTransaction","_this","_i","response","loaded","onWindowLoad","readyState","Blockchain","netID","JSON","parse","i","val","isObject","isFunction","l","hasOwnProperty","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","merge","assignValue","a","b","trim","str","replace","config","request","enhanceError","encode","encodeURIComponent","ignoreDuplicateOf","utils","originURL","msie","test","userAgent","urlParsingNode","resolveURL","href","setAttribute","host","search","pathname","charAt","requestURL","parsed","write","expires","path","domain","secure","cookie","toGMTString","join","read","RegExp","decodeURIComponent","remove","now","requestData","requestHeaders","headers","XMLHttpRequest","auth","username","password","Authorization","btoa","open","toUpperCase","paramsSerializer","serializedParams","parts","toISOString","buildURL","onreadystatechange","status","responseURL","responseHeaders","getAllResponseHeaders","split","line","substr","responseType","responseText","statusText","validateStatus","createError","settle","onerror","ontimeout","cookies","xsrfValue","withCredentials","isURLSameOrigin","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","cancel","abort","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","adapter","defaults","process","transformRequest","normalizedName","normalizeHeaderName","transformResponse","maxContentLength","common","Accept","InterceptorManager","use","eject","h","fns","__CANCEL__","throwIfCancellationRequested","throwIfRequested","baseURL","relativeURL","transformData","reason","isCancel","Axios","instanceConfig","interceptors","chain","dispatchRequest","interceptor","shift","Cancel","CancelToken","resolvePromise","token","c","createInstance","defaultConfig","context","instance","axios","create","require$$2","all","promises","spread","arr","Node","ipPort","ipPortArr","ip","property","relay","axiosInstance","configuration","requestTimeOut","post","constants","toJSON","Dispatch","blockchainArray","blockchains","element","DevID","devID","Blockchains","blockchainsJSON","nodes","parseDispatchResponse","netid","ips","node","Relay","blockchain","NetID","Data","Report","IP","Message","Wallet","privateKey","networkID","module","require$$3","require$$4","require$$5","Models","Configuration","maxNodes","dispatch","networkName","netIDs","nodesIsEmpty","retrieveNodes","isEqual","report","isValid","getNode","sendRelay","getDispatch","retrieveServiceNodes","SUPPORTED_SCOPES","tempCachingIFrame","style","width","height","border","position","left","Portis","dappId","options","_widgetUrl","isLocalhost","isSecureOrigin","validateSecureOrigin","_valiadateParams","version","scope","registerPageByDefault","widget","_initWidget","_initProvider","changeNetwork","newNetwork","clearSubprovider","NonceSubprovider","CacheSubprovider","setDefaultEmail","email","defaultEmail","showPortis","communication","logout","onLogin","_onLoginCallback","onLogout","_onLogoutCallback","onActiveWalletChanged","_onActiveWalletChangedCallback","onError","_onErrorCallback","getExtendedPublicKey","coin","importWallet","mnemonicOrPrivateKey","isLoggedIn","signBitcoinTransaction","showBitcoinWallet","item","container","widgetFrame","connection","contains","innerHTML","className","head","getElementById","setHeight","_setHeight","getWindowSize","_getWindowSize","_onLogin","_onLogout","_onActiveWalletChanged","_onError","retrieveSession","ProviderEngine","_selectedAddress","_network","FixtureSubprovider","web3_clientVersion","net_listening","eth_hashrate","eth_mining","eth_syncing","SubscriptionsSubprovider","FilterSubprovider","widgetCommunication","messageStandard","pocketDevId","pocket_1","PocketJSCore","Pocket","networkVersion","enable","isConnected","isPortis","getElementsByTagName","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","walletAddress","reputation","subproviderType","subprovider","find"],"mappings":"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","file":"index-5f854499.5c033df5.js","sourceRoot":"../src","sourcesContent":["const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","// gotta keep it within MAX_SAFE_INTEGER\nconst extraDigits = 3\n\nmodule.exports = createRandomId\n\n\nfunction createRandomId(){\n  // 13 time digits\n  var datePart = new Date().getTime()*Math.pow(10, extraDigits)\n  // 3 random digits\n  var extraPart = Math.floor(Math.random()*Math.pow(10, extraDigits))\n  // 16 digits\n  return datePart+extraPart\n}","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\n// fix for web3.js\nObject.defineProperty(Web3ProviderEngine, 'name', { value: 'HttpProvider' })\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumber(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n","const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createBlockCacheMiddleware = require('@portis/eth-json-rpc-middleware/block-cache')\n\nclass BlockCacheSubprovider extends ProviderSubprovider {\n  constructor(opts) {\n    super(({ blockTracker }) => createBlockCacheMiddleware(Object.assign({ blockTracker }, opts)))\n  }\n}\n\nmodule.exports = BlockCacheSubprovider\n","const inherits = require('util').inherits\nconst Subprovider = require('./subprovider.js')\n\nmodule.exports = FixtureProvider\n\ninherits(FixtureProvider, Subprovider)\n\nfunction FixtureProvider(staticResponses){\n  const self = this\n  staticResponses = staticResponses || {}\n  self.staticResponses = staticResponses\n}\n\nFixtureProvider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  var staticResponse = self.staticResponses[payload.method]\n  // async function\n  if ('function' === typeof staticResponse) {\n    staticResponse(payload, next, end)\n  // static response - null is valid response\n  } else if (staticResponse !== undefined) {\n    // return result asynchronously\n    setTimeout(() => end(null, staticResponse))\n  // no prepared response - skip\n  } else {\n    next()\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   personal_sign\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  if (opts.processTypedMessageV3) self.processTypedMessageV3 = opts.processTypedMessageV3\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  self.approveTypedMessageV3 = opts.approveTypedMessageV3 || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.signTypedMessageV3) self.signTypedMessageV3 = opts.signTypedMessageV3  || mustProvideInConstructor('signTypedMessageV3')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      if (resemblesData(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'personal_ecRecover':\n      return (function(){\n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessage(msgParams, cb),\n        (cb) => self.processTypedMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTypedData_v3':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessageV3(msgParams, cb),\n        (cb) => self.processTypedMessageV3(msgParams, cb),\n      ], end)\n      return\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessageV3 = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessageV3(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessageV3(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessageV3 = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","const inherits = require('util').inherits\nconst Transaction = require('ethereumjs-tx')\nconst ethUtil = require('ethereumjs-util')\nconst Subprovider = require('./subprovider.js')\nconst blockTagForPayload = require('../util/rpc-cache-utils').blockTagForPayload\n\nmodule.exports = NonceTrackerSubprovider\n\n// handles the following RPC methods:\n//   eth_getTransactionCount (pending only)\n//\n// observes the following RPC methods:\n//   eth_sendRawTransaction\n//   evm_revert (to clear the nonce cache)\n\ninherits(NonceTrackerSubprovider, Subprovider)\n\nfunction NonceTrackerSubprovider(opts){\n  const self = this\n\n  self.nonceCache = {}\n}\n\nNonceTrackerSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n\n  switch(payload.method) {\n\n    case 'eth_getTransactionCount':\n      var blockTag = blockTagForPayload(payload)\n      var address = payload.params[0].toLowerCase()\n      var cachedResult = self.nonceCache[address]\n      // only handle requests against the 'pending' blockTag\n      if (blockTag === 'pending') {\n        // has a result\n        if (cachedResult) {\n          end(null, cachedResult)\n        // fallthrough then populate cache\n        } else {\n          next(function(err, result, cb){\n            if (err) return cb()\n            if (self.nonceCache[address] === undefined) {\n              self.nonceCache[address] = result\n            }\n            cb()\n          })\n        }\n      } else {\n        next()\n      }\n      return\n\n    case 'eth_sendRawTransaction':\n      // allow the request to continue normally\n      next(function(err, result, cb){\n        // only update local nonce if tx was submitted correctly\n        if (err) return cb()\n        // parse raw tx\n        var rawTx = payload.params[0]\n        var stripped = ethUtil.stripHexPrefix(rawTx)\n        var rawData = Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex')\n        var tx = new Transaction(Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex'))\n        // extract address\n        var address = '0x'+tx.getSenderAddress().toString('hex').toLowerCase()\n        // extract nonce and increment\n        var nonce = ethUtil.bufferToInt(tx.nonce)\n        nonce++\n        // hexify and normalize\n        var hexNonce = nonce.toString(16)\n        if (hexNonce.length%2) hexNonce = '0'+hexNonce\n        hexNonce = '0x'+hexNonce\n        // dont update our record on the nonce until the submit was successful\n        // update cache\n        self.nonceCache[address] = hexNonce\n        cb()\n      })\n      return\n\n   // Clear cache on a testrpc revert\n   case 'evm_revert':\n      self.nonceCache = {}\n      next()\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\"));\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  var iframe = document.createElement('iframe');\n  (appendTo || document.body).appendChild(iframe);\n  connectionDestructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    connectionDestructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;","export function networkAdapter(network, gasRelay) {\n    var networkObj = typeof network === 'string' ? Object.assign({}, networks[network]) : network;\n    if (typeof networkObj !== 'object') {\n        throw new Error(\"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (!networkObj.nodeUrl) {\n        throw new Error(\"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (gasRelay && !networkObj.gasRelayHubAddress) {\n        throw new Error(\"[Portis] can't find default gas relay hub for \" + network);\n    }\n    if (typeof network === 'string' && !gasRelay) {\n        delete networkObj.gasRelayHubAddress;\n    }\n    return networkObj;\n}\nvar networks = {\n    mainnet: {\n        nodeUrl: 'https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '1',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    ropsten: {\n        nodeUrl: 'https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '3',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    rinkeby: {\n        nodeUrl: 'https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '4',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    goerli: {\n        nodeUrl: 'https://goerli.prylabs.net',\n        chainId: '5',\n    },\n    ubiq: {\n        nodeUrl: 'https://rpc1.ubiqscan.io',\n        chainId: '8',\n    },\n    thundercoreTestnet: {\n        nodeUrl: 'https://testnet-rpc.thundercore.com:8544',\n        chainId: '18',\n    },\n    orchid: {\n        nodeUrl: 'https://public-node.rsk.co',\n        chainId: '30',\n    },\n    orchidTestnet: {\n        nodeUrl: 'https://public-node.testnet.rsk.co',\n        chainId: '31',\n    },\n    kovan: {\n        nodeUrl: 'https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '42',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    classic: {\n        nodeUrl: 'https://ethereumclassic.network',\n        chainId: '61',\n    },\n    sokol: {\n        nodeUrl: 'https://sokol.poa.network',\n        chainId: '77',\n    },\n    core: {\n        nodeUrl: 'https://core.poa.network',\n        chainId: '99',\n    },\n    xdai: {\n        nodeUrl: 'https://dai.poa.network',\n        chainId: '100',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    thundercore: {\n        nodeUrl: 'https://mainnet-rpc.thundercore.com',\n        chainId: '108',\n    },\n    fuse: {\n        nodeUrl: 'https://rpc.fusenet.io',\n        chainId: '122',\n    },\n    lightstreams: {\n        nodeUrl: 'https://node.mainnet.lightstreams.io',\n        chainId: '163',\n    },\n    maticAlpha: {\n        nodeUrl: 'https://alpha.ethereum.matic.network',\n        chainId: '4626',\n    },\n    maticTestnet: {\n        nodeUrl: 'https://testnet2.matic.network',\n        chainId: '8995',\n    },\n};\n//# sourceMappingURL=networks.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a = require('ethereumjs-util'), addHexPrefix = _a.addHexPrefix, stripHexPrefix = _a.stripHexPrefix, BN = _a.BN;\nvar SIMPLE_GAS_COST = '0x5208'; // Hex for 21000, cost of a simple send.\nexport function getTxGas(query, txParams) {\n    return __awaiter(this, void 0, void 0, function () {\n        var block, _a, safeGas, simpleSend, gasLimitSpecified, gas, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, query.getBlockByNumber('latest', false)];\n                case 1:\n                    block = _b.sent();\n                    return [4 /*yield*/, safeTxGas(query, txParams, block.gasLimit)];\n                case 2:\n                    _a = _b.sent(), safeGas = _a.safeGas, simpleSend = _a.simpleSend, gasLimitSpecified = _a.gasLimitSpecified;\n                    if (simpleSend || gasLimitSpecified) {\n                        return [2 /*return*/, safeGas];\n                    }\n                    _b.label = 3;\n                case 3:\n                    _b.trys.push([3, 5, , 6]);\n                    return [4 /*yield*/, estimateTxGas(query, txParams, block.gasLimit, safeGas)];\n                case 4:\n                    gas = _b.sent();\n                    return [2 /*return*/, gas];\n                case 5:\n                    error_1 = _b.sent();\n                    return [2 /*return*/, safeGas];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction safeTxGas(query, txParams, blockGasLimitHex) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gasLimitSpecified, recipient, hasRecipient, code, codeIsEmpty, err, blockGasLimitBN, saferGasLimitBN;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gasLimitSpecified = Boolean(txParams.gas);\n                    // if it is, use that value\n                    if (gasLimitSpecified) {\n                        return [2 /*return*/, { safeGas: txParams.gas, simpleSend: false, gasLimitSpecified: true }];\n                    }\n                    recipient = txParams.to;\n                    hasRecipient = Boolean(recipient);\n                    if (!hasRecipient) return [3 /*break*/, 2];\n                    return [4 /*yield*/, query.getCode(recipient)];\n                case 1:\n                    code = _a.sent();\n                    codeIsEmpty = !code || code === '0x' || code === '0x0';\n                    if (codeIsEmpty) {\n                        // if there's data in the params, but there's no contract code, it's not a valid transaction\n                        if (txParams.data) {\n                            err = new Error('Trying to call a function on a non-contract address');\n                            throw err;\n                        }\n                        // This is a standard ether simple send, gas requirement is exactly 21k\n                        return [2 /*return*/, { safeGas: SIMPLE_GAS_COST, simpleSend: true, gasLimitSpecified: false }];\n                    }\n                    _a.label = 2;\n                case 2:\n                    blockGasLimitBN = hexToBn(blockGasLimitHex);\n                    saferGasLimitBN = BnMultiplyByFraction(blockGasLimitBN, 19, 20);\n                    return [2 /*return*/, { safeGas: bnToHex(saferGasLimitBN), simpleSend: false, gasLimitSpecified: false }];\n            }\n        });\n    });\n}\nfunction estimateTxGas(query, txParams, blockGasLimitHex, safeGas) {\n    return __awaiter(this, void 0, void 0, function () {\n        var estimatedGas, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    txParams.gas = safeGas;\n                    _a = addHexPrefix;\n                    return [4 /*yield*/, query.estimateGas(txParams)];\n                case 1:\n                    estimatedGas = _a.apply(void 0, [_b.sent()]);\n                    return [2 /*return*/, addGasBuffer(estimatedGas, blockGasLimitHex)];\n            }\n        });\n    });\n}\nfunction addGasBuffer(initialGasLimitHex, blockGasLimitHex) {\n    var initialGasLimitBn = hexToBn(initialGasLimitHex);\n    var blockGasLimitBn = hexToBn(blockGasLimitHex);\n    var upperGasLimitBn = blockGasLimitBn.muln(0.9);\n    var bufferedGasLimitBn = initialGasLimitBn.muln(1.5);\n    // if initialGasLimit is above blockGasLimit, dont modify it\n    if (initialGasLimitBn.gt(upperGasLimitBn))\n        return bnToHex(initialGasLimitBn);\n    // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n    if (bufferedGasLimitBn.lt(upperGasLimitBn))\n        return bnToHex(bufferedGasLimitBn);\n    // otherwise use blockGasLimit\n    return bnToHex(upperGasLimitBn);\n}\nfunction hexToBn(inputHex) {\n    return new BN(stripHexPrefix(inputHex), 16);\n}\nfunction bnToHex(inputBn) {\n    return addHexPrefix(inputBn.toString(16));\n}\nfunction BnMultiplyByFraction(targetBN, numerator, denominator) {\n    var numBN = new BN(numerator);\n    var denomBN = new BN(denominator);\n    return targetBN.mul(numBN).div(denomBN);\n}\n//# sourceMappingURL=getTxGas.js.map","var Query = /** @class */ (function () {\n    function Query(provider) {\n        this.provider = provider;\n    }\n    Query.prototype.getBlockByNumber = function (blockNumber, fullTransaction) {\n        return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n    };\n    Query.prototype.getCode = function (address, blockNumber) {\n        if (blockNumber === void 0) { blockNumber = 'latest'; }\n        return this.sendAsync('eth_getCode', address, blockNumber);\n    };\n    Query.prototype.estimateGas = function (txParams) {\n        return this.sendAsync('eth_estimateGas', txParams);\n    };\n    Query.prototype.sendAsync = function (methodName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            _this.provider.sendAsync({\n                id: 42,\n                jsonrpc: '2.0',\n                method: methodName,\n                params: args,\n            }, function (error, response) {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(response.result);\n                }\n            });\n        });\n    };\n    return Query;\n}());\nexport { Query };\n//# sourceMappingURL=query.js.map","var loaded = false;\nexport function onWindowLoad() {\n    return new Promise(function (resolve) {\n        if (loaded) {\n            resolve();\n        }\n        else if (['loaded', 'interactive', 'complete'].indexOf(document.readyState) > -1) {\n            loaded = true;\n            resolve();\n        }\n        else {\n            window.addEventListener('load', function () {\n                loaded = true;\n                resolve();\n            }, false);\n        }\n    });\n}\n//# sourceMappingURL=onWindowLoad.js.map","/**\n *\n *\n * @class Blockchain\n */\nclass Blockchain {\n  /**\n   * Creates an instance of Blockchain.\n   * @param {String} name - Blockchain's name.\n   * @param {String} netID - Network identifier.\n   * @memberof Blockchain\n   */\n  constructor(name, netID) {\n    this.name = name;\n    this.netID = netID;\n  }\n  /**\n   *\n   * toJSON\n   * @returns {JSON} - A JSON object.\n   * @memberof Blockchain\n   */\n  toJSON() {\n    return JSON.parse('{ \"name\":\"' + \n    this.name + '\", \"netID\":\"' + \n    this.netID + '\"}')\n  }\n}\n\nmodule.exports = {\n  Blockchain\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","// Url's and Paths    \nconst dispatchNodeURL = \"https://dispatch.pokt.network\";\nconst dispatchPath = \"/v1/dispatch\";\nconst reportPath = \"/v1/report\";\nconst relayPath = \"/v1/relay/\";\n\n\nmodule.exports = {\n    dispatchNodeURL,\n    dispatchPath,\n    reportPath,\n    relayPath\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\nconst httpsRequestProtocol = \"https://\";\nconst httpRequestProtocol = \"http://\";\n// Dispatch\n/**\n *\n *\n * @class Node\n */\nclass Node {\n    /**\n     * Creates an instance of Node.\n     * @param {String} network - Network name.\n     * @param {String} netID - Network Identifier.\n     * @param {String} ipPort - Ip and port string (\"10.0.0.1:80\")\n     * @memberof Node\n     */\n    constructor(network, netID, ipPort) {\n        this.network = network;\n        this.netID = netID;\n        var ipPortArr = ipPort.split(\":\");\n        this.ip = ipPortArr[0];\n        this.port = ipPortArr[1];\n        if (ipPort.includes(httpsRequestProtocol) || ipPort.includes(httpRequestProtocol)) {\n            this.ipPort = ipPort;\n        } else {\n            if (this.port === \"443\" || this.port === 443) {\n                this.ipPort = httpsRequestProtocol + ipPort;\n            } else {\n                this.ipPort = httpRequestProtocol + ipPort;\n            }\n        }\n    }\n\n    /**\n     *\n     * Verify if all properties are valid\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isValid() {\n        for (var property in this) {\n            if (!this.hasOwnProperty(property) || this[property] == \"\") {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     *\n     * Checks if params are equal to stored properties\n     * @param {String} netID - Network Identifier.\n     * @param {String} network - Network name.\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isEqual(netID, network) {\n        if (this.netID == netID.toString() && this.network == network.toString()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     *\n     * Sends a relay to a service node\n     * @param {Relay} relay - Relay object with the information.\n     * @param {callback} callback - callback handler.\n     * @returns {Object} - Object with the response.\n     * @memberof Node\n     */\n    async sendRelay(relay, callback) {\n        try {\n            const axiosInstance = axios.create({\n                baseURL: this.ipPort,\n                timeout: relay.configuration.requestTimeOut,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            var response = await axiosInstance.post(constants.relayPath,\n                relay.toJSON()\n            );\n\n            if (response.status == 200 && response.data != null) {\n                var result = response.data;\n\n                if (callback) {\n                    callback(result, null);\n                    return;\n                } else {\n                    return result;\n                }\n            } else {\n                if (callback) {\n                    callback(null, new Error(\"Failed to send relay with error: \" + response.data));\n                    return;\n                } else {\n                    return new Error(\"Failed to send relay with error: \" + response.data);\n                }\n            }\n        } catch (error) {\n            if (callback) {\n                callback(null, new Error(\"Failed to send relay with error: \" + error));\n                return;\n            } else {\n                return new Error(\"Failed to send relay with error: \" + error);\n            }\n        }\n    }\n}\n\nmodule.exports = {\n    Node\n}","const axios = require('axios');\nconst Node = require(\"./node.js\").Node;\nconst constants = require(\"../utils/constants.js\");\n\n// Dispatch\n/**\n *\n *\n * @class Dispatch\n */\nclass Dispatch {\n  /**\n   *Creates an instance of Dispatch.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Dispatch\n   */\n  constructor(configuration) {\n    this.configuration = configuration;\n    this.axiosInstance = axios.create({\n      baseURL: constants.dispatchNodeURL,\n      path: constants.dispatchPath,\n      timeout: this.configuration.requestTimeOut,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  /**\n   *\n   * blockchain object to JSON\n   * @returns {JSON} - JSON Array with the blockchain list.\n   * @memberof Dispatch\n   */\n  blockchainsJSON() {\n    var blockchainArray = []\n    this.configuration.blockchains.forEach(element => {\n      blockchainArray.push(element);\n    });\n    return blockchainArray\n  }\n  /**\n   *\n   * Retrieves a list of service nodes\n   * @param {callback} callback\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  async retrieveServiceNodes(callback) {\n    try {\n      var dispatch = this;\n      var response = null;\n\n      response = await this.axiosInstance.post(constants.dispatchPath, {\n        \"DevID\": dispatch.configuration.devID,\n        \"Blockchains\": dispatch.blockchainsJSON()\n      });\n\n      if (response != null && response.status == 200 && response.data != null) {\n        var nodes = this.parseDispatchResponse(response.data);\n\n        if (callback) {\n          callback(nodes, null);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        if (callback) {\n          callback(null, new Error(\"Failed to retrieve service nodes with error: \" + response.data));\n          return;\n        } else {\n          return new Error(\"Failed to retrieve service nodes with error: \" + response.data);\n        }\n      }\n    } catch (err) {\n      if (callback) {\n        callback(null, new Error(\"Failed to retrieve service nodes with error: \" + err));\n        return;\n      } else {\n        return new Error(\"Failed to retrieve service nodes with error: \" + err);\n      }\n    }\n  }\n\n  /**\n   *\n   * Parse the response from the dispatcher\n   * @param {Object} response\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  parseDispatchResponse(response) {\n    try {\n      // Variables\n      var nodes = [];\n\n      if (Array.isArray(response)) {\n        // Iterate through the array for different networks results\n        response.forEach(element => {\n          \n          var network = element.name;\n          var netID = element.netid;\n\n          if (element.ips) {\n            // Create a Node object for each item inside the dataKey object, IP:PORT\n            element.ips.forEach(ipPort => {\n              var node = new Node(network, netID, ipPort);\n              nodes.push(node);\n            });\n          }\n        });\n      } else {\n\n        var network = response.name;\n        var netID = response.netid;\n\n        if (response.ips) {\n          // Create a Node object for each item inside the dataKey object, IP:PORT\n          response.ips.forEach(ipPort => {\n            var node = new Node(network, netID, ipPort);\n            nodes.push(node);\n          });\n        }\n\n      }\n      return nodes;\n\n    } catch (error) {\n      return new Error(\"Failed to parsed service nodes with error: \" + error);\n    }\n\n  }\n\n}\n\nmodule.exports = {\n  Dispatch\n}","// Relay\n/**\n *\n *\n * @class Relay\n */\nclass Relay {\n\t/**\n\t * Creates an instance of Relay.\n\t * @param {Blockchain} blockchain - A blockchain object.\n\t * @param {String} netID - Network identifier.\n\t * @param {String} data - Data string.\n\t * @param {Configuration} configuration - Configuration object.\n\t * @memberof Relay\n\t */\n\tconstructor(blockchain, netID, data, configuration) {\n\t\tthis.blockchain = blockchain;\n\t\tthis.netID = netID;\n\t\tthis.data = data;\n\t\tthis.configuration = configuration;\n\t}\n\n\t/**\n\t *\n\t * Parse properties to a JSON Object.\n\t * @returns {JSON} - A JSON Object.\n\t * @memberof Relay\n\t */\n\ttoJSON(){\n\t\treturn {\n\t\t\t\"Blockchain\": this.blockchain,\n\t\t\t\"NetID\": this.netID,\n\t\t\t\"Data\": this.data,\n\t\t\t\"DevID\": this.configuration.devID\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * Verifies if the Relay is valid\n\t * @returns {boolean} - True or false\n\t * @memberof Relay\n\t */\n\tisValid(){\n\t\tfor (var property in this) {\n\t\t\tif (!this.hasOwnProperty(property) || this[property] == \"\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = {\n\tRelay\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\n\n// Report\n/**\n *\n *\n * @class Report\n */\nclass Report {\n\t/**\n   * Creates an instance of Report.\n   * @param {String} ip - Internet protocol address of the node.\n   * @param {String} message - Message describing the report.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Report\n   */\n  constructor(ip, message, configuration) {\n\t\tthis.ip = ip;\n        this.message = message;\n        this.configuration = configuration;\n    }\n    /**\n     *\n\t   * Parse properties to a JSON Object.\n\t   * @returns {JSON} - A JSON Object.\n     * @memberof Report\n     */\n    toJSON(){\n      return {\n        \"IP\": this.ip,\n        \"Message\": this.message\n      }\n    }\n    /**\n     *\n\t   * Verifies if the Report is valid\n\t   * @returns {boolean} - True or false\n     * @memberof Report\n     */\n    isValid(){\n      for (var property in this) {\n        if (!this.hasOwnProperty(property) || this[property] == \"\") {\n          return false;\n        }\n      }\n      return true;\n    }\n    /**\n     *\n     * Sends a report to the dispatcher.\n     * @param {callback} callback\n     * @returns {String} - An string with the result.\n     * @memberof Report\n     */\n    async send(callback){\n        const axiosInstance = axios.create({\n            baseURL: constants.dispatchNodeURL,\n            timeout: this.configuration.requestTimeOut,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n    \n          var response = await axiosInstance.post(constants.reportPath,\n            this.toJSON()\n          );\n    \n          if (response.status == 200 && response.data != null) {\n            if (callback) {\n              callback(null, response.data);\n              return;\n            }\n            return response.data;\n          } else {\n            if (callback) {\n              callback(new Error(\"Failed to send report with error: \" + response.data));\n              return;\n            }\n            return new Error(\"Failed to send report with error: \" + response.data);\n          }\n    }\n}\n\nmodule.exports = {\n\tReport\n}","// Wallet - Model\nclass Wallet {\n\t/**\n\t * Creates an instance of Wallet.\n\t * @param {String} address - Public Key string.\n\t * @param {String} privateKey - Private Key string.\n\t * @param {String} network - Network name.\n\t * @param {String} networkID - Network Identifier.\n\t * @param {Object} data - Optional data object.\n\t * @memberof Wallet\n\t */\n\tconstructor(address, privateKey, network, networkID, data) {\n\t\tthis.address = address;\n\t\tthis.privateKey = privateKey;\n\t\tthis.network = network;\n\t\tthis.networkID = networkID;\n\t\tthis.data = data;\n\t}\n}\n\nmodule.exports = {\n\tWallet\n}","module.exports = Object.assign(\n        module.exports, \n        require('./blockchain'), \n        require('./dispatch'), \n        require('./node'), \n        require('./relay'),\n        require('./report'),\n        require('./wallet')\n    )","const Models = require(\"./models/index\");\nconst Blockchain = Models.Blockchain;\nconst Dispatch = Models.Dispatch;\nconst Relay = Models.Relay;\nconst Report = Models.Report;\n\n/**\n *\n *\n * @class Configuration\n */\nclass Configuration {\n  /**\n   * Configuration stores settings.\n   * @constructor\n   * @param {string} devID - Unique developer ID.\n   * @param {string} blockchains - Blockchain class type list.\n   * @param {string} maxNodes - (optional) Maximun amount of nodes to store in instance, default 5.\n   * @param {string} requestTimeOut - (optional) Maximun timeout for every request in miliseconds, default 10000.\n   */\n  constructor(devID, blockchains, maxNodes, requestTimeOut) {\n    this.devID = devID;\n    this.blockchains = blockchains;\n    this.maxNodes = maxNodes || 5;\n    this.nodes = [];\n    this.requestTimeOut = requestTimeOut || 10000;\n    this.dispatch = null;\n  }\n  /**\n   * Verify if the nodes list is empty\n   *\n   * @returns {Boolean}\n   * @memberof Configuration\n   */\n  nodesIsEmpty() {\n    if (this.nodes == null || this.nodes.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n/**\n *\n *\n * @class Pocket\n */\nclass Pocket {\n  /**\n   * Creates an instance of Pocket.\n   * @param {Object} opts - Options for the initializer, devID, networkName, netIDs, maxNodes, requestTimeOut.\n   * @memberof Pocket\n   */\n  constructor(opts) {\n    var blockchains = [];\n\n    if (opts.devID == null || opts.networkName == null || opts.netIDs == null) {\n      return new Error(\"Invalid number of arguments\");\n    }\n\n    if (Array.isArray(opts.netIDs)) {\n      opts.netIDs.forEach(element => {\n        var blockchain = new Blockchain(opts.networkName, element);\n        blockchains.push(blockchain.toJSON());\n      });\n    } else {\n      var blockchain = new Blockchain(opts.networkName, opts.netIDs);\n      blockchains.push(blockchain.toJSON());\n    }\n\n    this.configuration = new Configuration(opts.devID, blockchains, opts.maxNodes || 5, opts.requestTimeOut || 10000);\n\n  }\n  /**\n   *\n   * Create a Relay instance\n   * @param {Blockchain} blockchain - Blockchain object.\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} data - String holding the json rpc call.\n   * @returns {Relay} - New Relay instance.\n   * @memberof Pocket\n   */\n  createRelay(blockchain, netID, data) {\n    // Check if data is a json tring\n    if (typeof data == 'string') {\n      return new Relay(blockchain, netID, data, this.configuration); \n    }\n    return new Relay(blockchain, netID, JSON.stringify(data), this.configuration);\n  }\n  /**\n   *\n   * Create a Report instance\n   * @param {String} ip - Internet protocol address.\n   * @param {String} message - Brief description for the report.\n   * @returns {Report} - New Report instance.\n   * @memberof Pocket\n   */\n  createReport(ip, message) {\n    return new Report(ip, message, this.configuration);\n  }\n  /**\n   *\n   * Get a Dispatch instance or creates one\n   * @returns {Dispatch} - New or existing Dispatch instance.\n   * @memberof Pocket\n   */\n  getDispatch() {\n    if (this.dispatch == null) {\n      this.dispatch = new Dispatch(this.configuration);\n    }\n    return this.dispatch;\n  }\n  /**\n   *\n   * Filter nodes by netID and blockchain name\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} network - Network Name.\n   * @returns {Node} - New Node instance.\n   * @memberof Pocket\n   */\n  async getNode(netID, network) {\n    try {\n      var nodes = [];\n\n      if (this.configuration.nodesIsEmpty()) {\n        var response = await this.retrieveNodes();\n\n        if (response instanceof Error == true) {\n          throw response;\n        }else {\n          // Save the nodes to the configuration.\n          this.configuration.nodes = response;\n        }\n      }\n      \n      this.configuration.nodes.forEach(node => {\n        if (node.isEqual(netID, network)) {\n          nodes.push(node);\n        }\n      });\n\n      if (nodes.length <= 0) {\n        return null\n      }\n\n      return nodes[Math.floor(Math.random() * nodes.length)];\n    } catch (error) {\n      return null;\n    }\n  }\n  /**\n   *\n   * Send a report\n   * @param {Report} report - Report instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendReport(report, callback) {\n    try {\n      // Check for report\n      if (report == null) {\n        throw new Error(\"Report is null\");\n      }\n      // Verify all report properties are set\n      if (!report.isValid()) {\n        throw new Error(\"One or more Report properties are empty.\");\n      }\n      // Send Report\n      var response = await report.send();\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n    } catch (error) {\n      if (callback) {\n        callback(error);\n        return;\n      } else {\n        return error;\n      }\n    }\n  }\n  /**\n   *\n   * Send an already created Relay\n   * @param {Relay} relay - Relay instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendRelay(relay, callback) {\n    try {\n      // Check for relay\n      if (relay == null || relay.data == null) {\n        if (callback) {\n          callback(new Error(\"Relay is null or data field is missing\"));\n          return;\n        } else {\n          return new Error(\"Relay is null or data field is missing\");\n        }\n      }\n      // Verify all relay properties are set\n      if (!relay.isValid()) {\n        if (callback) {\n          callback(new Error(\"Relay is missing a property, please verify all properties.\"));\n          return;\n        } else {\n          return new Error(\"Relay is missing a property, please verify all properties.\");\n        }\n      }\n\n      // Filter nodes for specified blockchain\n      var node = await this.getNode(relay.netID,\n        relay.blockchain);\n\n      if (node == null) {\n        if (callback) {\n          callback(new Error(\"Node is empty.\"));\n          return;\n        } else {\n          return new Error(\"Node is empty.\");\n        }\n      }\n\n      // Send relay\n      var response = await node.sendRelay(relay);\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to send relay with error: \" + error));\n        return;\n      } else {\n        return new Error(\"Failed to send relay with error: \" + error);\n      }\n    }\n\n  }\n  /**\n   *\n   * Retrieve a list of service nodes from the Node Dispatcher\n   * @param {callback} callback\n   * @returns {Node} - A list of Nodes.\n   * @memberof Pocket\n   */\n  async retrieveNodes(callback) {\n    try {\n      var dispatch = this.getDispatch();\n      var nodes = await dispatch.retrieveServiceNodes();\n      \n      if (nodes instanceof Error == false && nodes.length != 0) {\n        // Save the nodes to the configuration.\n        this.configuration.nodes = nodes;\n        // Return a list of nodes\n        if (callback) {\n          callback(null, nodes);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        // Returns an Error;\n        if (callback) {\n          callback(new Error(\"Failed to retrieve a list of nodes.\"), null);\n          return;\n        } else {\n          return new Error(\"Failed to retrieve a list of nodes.\");\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to retrieve a list of nodes with error: \"+error), null);\n        return;\n      } else {\n        return new Error(\"Failed to retrieve a list of nodes with error: \"+error);\n      }\n    }\n  }\n\n}\n\nmodule.exports = Pocket;","const Models = require(\"./models/index\");\nconst Wallet = Models.Wallet;\nconst Relay = Models.Relay;\nconst Pocket = require(\"./pocket\");\n\nmodule.exports = {\n  Pocket,\n  Wallet,\n  Relay\n}","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport ProviderEngine from '@portis/web3-provider-engine';\nimport CacheSubprovider from '@portis/web3-provider-engine/subproviders/cache.js';\nimport FixtureSubprovider from '@portis/web3-provider-engine/subproviders/fixture.js';\nimport FilterSubprovider from '@portis/web3-provider-engine/subproviders/filters.js';\nimport HookedWalletSubprovider from '@portis/web3-provider-engine/subproviders/hooked-wallet.js';\nimport NonceSubprovider from '@portis/web3-provider-engine/subproviders/nonce-tracker.js';\nimport SubscriptionsSubprovider from '@portis/web3-provider-engine/subproviders/subscriptions.js';\nimport Penpal from 'penpal';\nimport { networkAdapter } from './networks';\nimport { getTxGas } from './utils/getTxGas';\nimport { Query } from './utils/query';\nimport { onWindowLoad } from './utils/onWindowLoad';\nimport { styles } from './styles';\nimport { validateSecureOrigin } from './utils/secureOrigin';\nimport PocketJSCore from 'pocket-js-core';\nvar VERSION = '2.0.0-beta.54';\nvar WIDGET_URL = 'https://widget.portis.io';\nvar SUPPORTED_SCOPES = ['email', 'reputation'];\nvar tempCachingIFrame = document.createElement('iframe');\ntempCachingIFrame.style.width = '0';\ntempCachingIFrame.style.height = '0';\ntempCachingIFrame.style.border = 'none';\ntempCachingIFrame.style.position = 'absolute';\ntempCachingIFrame.style.top = '-999px';\ntempCachingIFrame.style.left = '-999px';\ntempCachingIFrame.src = WIDGET_URL;\nonWindowLoad().then(function () {\n    document.body.appendChild(tempCachingIFrame);\n});\nvar Portis = /** @class */ (function () {\n    function Portis(dappId, network, options) {\n        if (options === void 0) { options = {}; }\n        this._widgetUrl = WIDGET_URL;\n        validateSecureOrigin();\n        this._valiadateParams(dappId, network, options);\n        this.config = {\n            dappId: dappId,\n            network: networkAdapter(network, options.gasRelay),\n            version: VERSION,\n            scope: options.scope,\n            registerPageByDefault: options.registerPageByDefault,\n        };\n        this.widget = this._initWidget();\n        this.provider = this._initProvider(options);\n    }\n    Portis.prototype.changeNetwork = function (network, gasRelay) {\n        var newNetwork = networkAdapter(network, gasRelay);\n        this.clearSubprovider(NonceSubprovider);\n        this.clearSubprovider(CacheSubprovider);\n        this.config.network = newNetwork;\n    };\n    Portis.prototype.setDefaultEmail = function (email) {\n        this.config.defaultEmail = email;\n    };\n    Portis.prototype.showPortis = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showPortis(this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.logout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.logout()];\n                }\n            });\n        });\n    };\n    Portis.prototype.onLogin = function (callback) {\n        this._onLoginCallback = callback;\n    };\n    Portis.prototype.onLogout = function (callback) {\n        this._onLogoutCallback = callback;\n    };\n    Portis.prototype.onActiveWalletChanged = function (callback) {\n        this._onActiveWalletChangedCallback = callback;\n    };\n    Portis.prototype.onError = function (callback) {\n        this._onErrorCallback = callback;\n    };\n    Portis.prototype.getExtendedPublicKey = function (path, coin) {\n        if (path === void 0) { path = \"m/44'/60'/0'/0/0\"; }\n        if (coin === void 0) { coin = 'Ethereum'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.getExtendedPublicKey(path, coin, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.importWallet = function (mnemonicOrPrivateKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.importWallet(mnemonicOrPrivateKey, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.isLoggedIn = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.isLoggedIn()];\n                }\n            });\n        });\n    };\n    Portis.prototype.signBitcoinTransaction = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.signBitcoinTransaction(params, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.showBitcoinWallet = function (path) {\n        if (path === void 0) { path = \"m/49'/0'/0'/0/0\"; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showBitcoinWallet(path, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype._valiadateParams = function (dappId, network, options) {\n        if (!dappId) {\n            throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n        }\n        if (!network) {\n            throw new Error(\"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n        }\n        if (options.scope) {\n            if (!Array.isArray(options.scope)) {\n                throw new Error(\"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n            var unknownScope = options.scope.filter(function (item) { return SUPPORTED_SCOPES.indexOf(item) < 0; });\n            if (unknownScope.length > 0) {\n                throw new Error(\"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n        }\n        if (options.registerPageByDefault !== undefined && typeof options.registerPageByDefault !== 'boolean') {\n            throw new Error(\"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\");\n        }\n    };\n    Portis.prototype._initWidget = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var style, container, widgetFrame, connection, communication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onWindowLoad()];\n                    case 1:\n                        _a.sent();\n                        if (document.body.contains(tempCachingIFrame)) {\n                            document.body.removeChild(tempCachingIFrame);\n                        }\n                        style = document.createElement('style');\n                        style.innerHTML = styles;\n                        container = document.createElement('div');\n                        container.className = 'por_portis-container';\n                        widgetFrame = document.createElement('div');\n                        widgetFrame.id = \"portis-container-\" + Date.now();\n                        widgetFrame.className = 'por_portis-widget-frame';\n                        container.appendChild(widgetFrame);\n                        document.body.appendChild(container);\n                        document.head.appendChild(style);\n                        connection = Penpal.connectToChild({\n                            url: this._widgetUrl,\n                            appendTo: document.getElementById(widgetFrame.id),\n                            methods: {\n                                setHeight: this._setHeight.bind(this),\n                                getWindowSize: this._getWindowSize.bind(this),\n                                onLogin: this._onLogin.bind(this),\n                                onLogout: this._onLogout.bind(this),\n                                onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n                                onError: this._onError.bind(this),\n                            },\n                        });\n                        connection.iframe.style.position = 'absolute';\n                        connection.iframe.style.height = '100%';\n                        connection.iframe.style.width = '100%';\n                        connection.iframe.style.border = '0 transparent';\n                        return [4 /*yield*/, connection.promise];\n                    case 2:\n                        communication = _a.sent();\n                        communication.retrieveSession(this.config);\n                        return [2 /*return*/, { communication: communication, iframe: connection.iframe, widgetFrame: widgetFrame }];\n                }\n            });\n        });\n    };\n    Portis.prototype._initProvider = function (options) {\n        var _this = this;\n        var engine = new ProviderEngine();\n        var query = new Query(engine);\n        engine.send = function (payload, callback) {\n            // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n            if (typeof payload === 'string') {\n                return new Promise(function (resolve, reject) {\n                    engine.sendAsync({\n                        jsonrpc: '2.0',\n                        id: 42,\n                        method: payload,\n                        params: callback || [],\n                    }, function (error, response) {\n                        if (error) {\n                            reject(error);\n                        }\n                        else {\n                            resolve(response.result);\n                        }\n                    });\n                });\n            }\n            // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n            if (callback) {\n                engine.sendAsync(payload, callback);\n                return;\n            }\n            var result = null;\n            switch (payload.method) {\n                case 'eth_accounts':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'eth_coinbase':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'net_version':\n                    result = _this._network;\n                    break;\n                case 'eth_uninstallFilter':\n                    engine.sendAsync(payload, function (_) { return _; });\n                    result = true;\n                    break;\n                default:\n                    var message = \"The Portis Web3 object does not support synchronous methods like \" + payload.method + \" without a callback parameter.\";\n                    throw new Error(message);\n            }\n            return {\n                id: payload.id,\n                jsonrpc: payload.jsonrpc,\n                result: result,\n            };\n        };\n        engine.addProvider(new FixtureSubprovider({\n            web3_clientVersion: \"Portis/v\" + this.config.version + \"/javascript\",\n            net_listening: true,\n            eth_hashrate: '0x00',\n            eth_mining: false,\n            eth_syncing: true,\n        }));\n        engine.addProvider(new CacheSubprovider());\n        engine.addProvider(new SubscriptionsSubprovider());\n        engine.addProvider(new FilterSubprovider());\n        engine.addProvider(new NonceSubprovider());\n        engine.addProvider({\n            setEngine: function (_) { return _; },\n            handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (!payload.id) {\n                        payload.id = 42;\n                    }\n                    next();\n                    return [2 /*return*/];\n                });\n            }); },\n        });\n        engine.addProvider(new HookedWalletSubprovider({\n            getAccounts: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.getAccounts(this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            if (!error && result) {\n                                this._selectedAddress = result[0];\n                            }\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTransaction: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.signTransaction(txParams, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signPersonalMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signPersonalMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessageV3: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessageV3' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            estimateGas: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var gas;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, getTxGas(query, txParams)];\n                        case 1:\n                            gas = _a.sent();\n                            cb(null, gas);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            getGasPrice: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    cb(null, '');\n                    return [2 /*return*/];\n                });\n            }); },\n        }));\n        if (!options.pocketDevId) {\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var widgetCommunication, _a, error, result;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0: return [4 /*yield*/, this.widget];\n                            case 1:\n                                widgetCommunication = (_b.sent()).communication;\n                                return [4 /*yield*/, widgetCommunication.relay(payload, this.config)];\n                            case 2:\n                                _a = _b.sent(), error = _a.error, result = _a.result;\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        else {\n            var pocket_1 = new PocketJSCore.Pocket({\n                devID: options.pocketDevId,\n                networkName: 'ETH',\n                netIDs: [this.config.network.chainId],\n            });\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var response, result, error;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, pocket_1.sendRelay(new PocketJSCore.Relay('ETH', this.config.network.chainId, JSON.stringify(payload), pocket_1.configuration))];\n                            case 1:\n                                response = _a.sent();\n                                if (response instanceof Error || !response) {\n                                    error = response || new Error('Unknown error');\n                                    result = null;\n                                }\n                                else {\n                                    try {\n                                        result = JSON.parse(response).result;\n                                        error = null;\n                                    }\n                                    catch (e) {\n                                        result = null;\n                                        error = e;\n                                    }\n                                }\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        engine.enable = function () {\n            return new Promise(function (resolve, reject) {\n                engine.sendAsync({ method: 'eth_accounts' }, function (error, response) {\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n            });\n        };\n        engine.isConnected = function () {\n            return true;\n        };\n        engine.isPortis = true;\n        engine.on('error', function (error) {\n            if (error && error.message && error.message.includes('PollingBlockTracker')) {\n                console.warn('If you see this warning constantly, there might be an error with your RPC node.');\n            }\n            else {\n                console.error(error);\n            }\n        });\n        engine.start();\n        return engine;\n    };\n    Portis.prototype._setHeight = function (height) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetFrame;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetFrame = (_a.sent()).widgetFrame;\n                        widgetFrame.style.height = height + \"px\";\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Portis.prototype._getWindowSize = function () {\n        var body = document.getElementsByTagName('body')[0];\n        var width = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\n        var height = window.innerHeight || document.documentElement.clientHeight || body.clientHeight;\n        return { width: width, height: height };\n    };\n    Portis.prototype._onLogin = function (walletAddress, email, reputation) {\n        if (this._onLoginCallback) {\n            this._onLoginCallback(walletAddress, email, reputation);\n        }\n    };\n    Portis.prototype._onLogout = function () {\n        this._selectedAddress = '';\n        if (this._onLogoutCallback) {\n            this._onLogoutCallback();\n        }\n    };\n    Portis.prototype._onActiveWalletChanged = function (walletAddress) {\n        if (this._onActiveWalletChangedCallback) {\n            this._onActiveWalletChangedCallback(walletAddress);\n        }\n    };\n    Portis.prototype._onError = function (error) {\n        if (this._onErrorCallback) {\n            this._onErrorCallback(error);\n        }\n    };\n    Portis.prototype.clearSubprovider = function (subproviderType) {\n        var subprovider = this.provider._providers.find(function (subprovider) { return subprovider instanceof subproviderType; });\n        this.provider.removeProvider(subprovider);\n        this.provider.addProvider(new subproviderType());\n    };\n    return Portis;\n}());\nexport default Portis;\n//# sourceMappingURL=index.js.map","export function validateSecureOrigin() {\n    var isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n    var isSecureOrigin = location.protocol === 'https:';\n    var isSecure = isLocalhost || isSecureOrigin;\n    if (!isSecure) {\n        throw \"[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:\" + location.port + \" instead.\\nOtherwise, please use an SSL certificate.\";\n    }\n}\n//# sourceMappingURL=secureOrigin.js.map","export var styles = \"\\n.por_portis-container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  top: 0px;\\n  right: 0px;\\n  z-index: 2147483647;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-container {\\n    bottom: 0;\\n    top: auto;\\n  }\\n}\\n\\n.por_portis-widget-frame {\\n  position: fixed;\\n  width: 375px;\\n  height: 0;\\n  top: 20px;\\n  right: 20px;\\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\\n  border-radius: 8px;\\n  overflow: hidden;\\n  z-index: 2147483000;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-widget-frame {\\n    bottom: 0;\\n    top: auto;\\n    width: 100%;\\n    right: 0;\\n    left: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n}\\n\";\n//# sourceMappingURL=styles.js.map"]}